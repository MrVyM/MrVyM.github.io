---
slug: how-copy-paste-works-on-linux 
title: How copy-paste works on Linux ?
tags:
- Linux
- Xorg   
- Copy
- Paste
hide_title: false
date: 2025-01-31
unlisted: true
authors: [mrvym]
---
# How Copy Paste works on Linux

In this article, we will explore the internal functioning of Copy-Paste in Linux. 
First, let me introduce some context. There is a manual, almost like an RFC. 

The Inter-Communication Client Conventions Manual (for short ICCCM), which imposes some rules. 
The first version was published in July 1989 and the second in 1994. 
This manual, written 30 years ago, is therefore the reference for the subject.  

<!-- truncate -->

## X10 and cut-buffers

For context, first release of X10 was in 1985. At this time, the ICCCM wasn't released.
Xorg made it's own custom way to works. They used a thing called `cut-buffer` or also knows as `buffer-cut`.

A cut-buffer works like a circular buffer of 8 buffers, which begins from CUTBUFFER0 to CUTBUFFER7.
When a user want add a string in a cut-buffer, every string switches to another buffer. 
So the circular buffer is like a history of all copy-paste.

Nowday, there is no more programs which used a cut-buffer or at least they used the cut-buffer and the new way.

## Support by X11 

X got a objet that called 'selections'. There are essentially clipboards but for different use.
There are THREE selections defines by ICCCM : Primary, Secondary and Clipboard
#### PRIMARY

#### SECONDARY

  - Unused

#### CLIPBOARD

## Alias

```sh
alias paste="xclip -o"

alias copy="xclip"
```

And so you can use like this.

```sh
cat LONG_FILE | copy 

paste | vim - 
```
Sources : 
- [ICCCM](https://x.org/releases/X11R7.6/doc/xorg-docs/specs/ICCCM/icccm.html)
- [VimDoc](http://vimdoc.sourceforge.net/htmldoc/gui_x11.html#quoteplus)
- [ClipbordWiki](https://www.freedesktop.org/wiki/Specifications/ClipboardsWiki/)
- [StackOverflow - Diff between X Clip](https://superuser.com/questions/90257/what-is-the-difference-between-the-x-clipboards)
