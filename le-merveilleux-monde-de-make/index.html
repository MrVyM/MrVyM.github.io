<!doctype html>
<html lang="fr" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Le Merveilleux Monde de Make | MrVyM.dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://blog.marticou.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://blog.marticou.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://blog.marticou.com/le-merveilleux-monde-de-make"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Le Merveilleux Monde de Make | MrVyM.dev"><meta data-rh="true" name="description" content="Les Makefiles constituent un outil essentiel dans le développement de logiciels que ce soit en C/C++ ou autre. Ils permettent une gestion efficace des projets en automatisant le processus de compilation, de nettoyage et de tests."><meta data-rh="true" property="og:description" content="Les Makefiles constituent un outil essentiel dans le développement de logiciels que ce soit en C/C++ ou autre. Ils permettent une gestion efficace des projets en automatisant le processus de compilation, de nettoyage et de tests."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-03-14T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/mrvym"><meta data-rh="true" property="article:tag" content="make,C Language,c++,criterion"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.marticou.com/le-merveilleux-monde-de-make"><link data-rh="true" rel="alternate" href="https://blog.marticou.com/le-merveilleux-monde-de-make" hreflang="fr"><link data-rh="true" rel="alternate" href="https://blog.marticou.com/le-merveilleux-monde-de-make" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://blog.marticou.com/le-merveilleux-monde-de-make","mainEntityOfPage":"https://blog.marticou.com/le-merveilleux-monde-de-make","url":"https://blog.marticou.com/le-merveilleux-monde-de-make","headline":"Le Merveilleux Monde de Make","name":"Le Merveilleux Monde de Make","description":"Les Makefiles constituent un outil essentiel dans le développement de logiciels que ce soit en C/C++ ou autre. Ils permettent une gestion efficace des projets en automatisant le processus de compilation, de nettoyage et de tests.","datePublished":"2024-03-14T00:00:00.000Z","author":{"@type":"Person","name":"Vianney Marticou","description":"Mr.VyM @ EPITA","url":"https://github.com/mrvym","image":"https://github.com/mrvym.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://blog.marticou.com/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="MrVyM.dev RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="MrVyM.dev Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="MrVyM.dev JSON Feed"><link rel="stylesheet" href="/assets/css/styles.0531e81a.css">
<script src="/assets/js/runtime~main.1d59151c.js" defer="defer"></script>
<script src="/assets/js/main.78584dd8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="https://github.com/mrvym.png"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Tech Blog - Curiosities - Embedded Systems" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Tech Blog - Curiosities - Embedded Systems" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mr.VyM.dev</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MrVyM/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode sombre)" aria-label="Basculer entre le mode sombre et clair (actuellement mode sombre)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navigation article de blog récent"><div class="sidebarItemTitle_pO2u margin-bottom--md">...</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/le-plus-petit-segfault">Le plus petit segfault</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tester-cest-tricher-compiler-c-est-douter">Tester c&#x27;est tricher, compiler c&#x27;est douter</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/intro-terraform-proxmox">Introduction à Terraform avec Proxmox</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/disque-dur-sas-sata-scsi-ide">Disque dur : SAS, SATA, SCSI ou IDE ?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/define-inc-a-inc-a+1">#define INC(a) INC(a+1)</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/le-merveilleux-monde-de-make">Le Merveilleux Monde de Make</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">1970</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/todo">IDEA / TODO / SUBJECT</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Le Merveilleux Monde de Make</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-03-14T00:00:00.000Z">14 mars 2024</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/authors/mrvym"><img class="avatar__photo authorImage_XqGP" src="https://github.com/mrvym.png" alt="Vianney Marticou"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/authors/mrvym"><span class="authorName_yefp">Vianney Marticou</span></a></div><small class="authorTitle_nd0D" title="Mr.VyM @ EPITA">Mr.VyM @ EPITA</small><div class="authorSocials_rSDt"><a href="https://github.com/mrvym" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Les Makefiles constituent un outil essentiel dans le développement de logiciels que ce soit en C/C++ ou autre. Ils permettent une gestion efficace des projets en automatisant le processus de compilation, de nettoyage et de tests.</p>
<p>Dans cet article, nous explorerons les bonnes pratiques pour la création et l&#x27;utilisation de Makefiles dans des projets C quelque soit leurs complexités.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-ca-sert-a-quoi-">Make, ca sert a quoi ?<a href="#make-ca-sert-a-quoi-" class="hash-link" aria-label="Lien direct vers Make, ca sert a quoi ?" title="Lien direct vers Make, ca sert a quoi ?">​</a></h3>
<p>Make est un programme qui a pour but de générer des fichier. Il permet de générer des pdfs, des exécutables et bien plus.</p>
<blockquote>
<p>Dans les années 1970, la compilation des programmes devient de plus en plus longue et complexe, nécessitant de nombreuses étapes interdépendantes. La plupart des systèmes alors utilisés reposent sur des script shell, nécessitant de répéter toutes les étapes lors de la moindre correction. C&#x27;est dans ce contexte que Make fut développé par le docteur Stuart Feldman en 1977. En gérant les dépendances entre fichiers sources et fichiers compilés, Make permet de ne compiler que ce qui est nécessaire à la suite de la modification d&#x27;un fichier source.</p>
</blockquote>
<p>Il existe un makefile par défaut, qui définit un grand nombre de règles afin de générer la plupart des fichiers avec lesquels, vous serez amené a travailler.</p>
<p>Pour voir ce makefile, par défaut : <code>make -p</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hello-world">Hello World<a href="#hello-world" class="hash-link" aria-label="Lien direct vers Hello World" title="Lien direct vers Hello World">​</a></h3>
<p>Pour débuter, nous allons prendre un cas très simple celui d&#x27;un fichier source unique, dans le même dossier que notre makefile.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── main.c </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans ce cas, il existe 2 facons de faire.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ make main # Je souligne l&#x27;absence du .c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cette commande, nous demandons a make de créer le fichier <code>main</code>. Mais comment sait-il qu&#x27;il doit utiliser le fichier main.c pour faire notre binaire ? Cela est défini dans les règles par défaut.</p>
<p>Nous pouvons aussi creer un fichier <code>Makefile</code></p>
<div class="language-makefile= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile= codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">my_compilation_rule: </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gcc main.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Une fois, le fichier crée, il suffit d&#x27;exécuter la commande <code>make</code> (qui, par défaut, exécute la première règle du fichier).
Nous pouvons aussi mettre en argument le nom de la règle que nous voulons exécuter <code>make my_compilation_rule</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plus-on-est-de-fou-plus-on-rit">Plus on est de fou, plus on rit<a href="#plus-on-est-de-fou-plus-on-rit" class="hash-link" aria-label="Lien direct vers Plus on est de fou, plus on rit" title="Lien direct vers Plus on est de fou, plus on rit">​</a></h3>
<p>Notre projet grossit, nous avons maintenant un deuxième fichier source.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── foo.c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── foo.h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── main.c </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans l&#x27;objectif de faire un makefile propre, nous allons déclarer une variable OBJ qui contiendra nos différents fichiers. On en profite pour déclarer un variable CC pour notre compilateur.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CC = gcc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBJ = main.o foo.o</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Cette variable sera utilisée dans la règle implicite qui compile les .o  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CFLAGS = # My C Flags for the compiler</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LDFLAGS = # My linker flags</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TARGET = a.out</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">all: $(OBJ)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	$(CC) $(OBJ) -o $(TARGET) $(LDFLAGS)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cette fois-ci, nous avons ajouter des dépendances à notre règle <code>all</code>. Maintenant, make sait qu&#x27;il faut d&#x27;abord faire les fichiers .o avant de pouvoir faire le linkage de tous les fichiers en un binaire.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC = $(wildcard *.c) # main.c foo.c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBJ = $(SRC:.c=.o) # main.o foo.o</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans ce makefile, nous avons choisi de ne pas récupérer, à la main, les différents fichiers source. Nous récupérons automatiquement les fichiers source via la fonction <code>wildcard</code>. Cette fonction agit comme le globbing d&#x27;un shell. Dans cette example, elle récupère tous les fichiers terminant par <code>.c</code>.</p>
<p>Nous les convertissons en <code>.o</code> via cette syntax <code>$(NAME:old=new)</code> qui n&#x27;est rien de moins qu&#x27;un replace. La suite de notre makefile reste néanmoins la même chose.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clean">Clean<a href="#clean" class="hash-link" aria-label="Lien direct vers Clean" title="Lien direct vers Clean">​</a></h3>
<p>Comme vous avez pu le remarquer, un makefile peut facilement générer un grand nombre de fichiers. C&#x27;est pour cela que nous allons créer une nouvelle règle dans notre makefile qui a pour but de supprimer tous les fichiers issus de la compilation.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clean: </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $(RM) $(OBJ)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $(RM) $(TARGET)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour les petits curieux qui se demandent ce que signifie la variable RM. C&#x27;est un simple alias avec la commande <code>rm -f</code>. Il faut savoir que cette variable peut très bien override. On peut très bien voir <code>RM = echo</code> ou bien <code>RM = mv to/path/</code> (à la place du remove), cela peut être très utile dans certains projets.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="phony">Phony<a href="#phony" class="hash-link" aria-label="Lien direct vers Phony" title="Lien direct vers Phony">​</a></h4>
<p>Nous l&#x27;avons dit au début de cet article, mais make est un utilitaire qui permet de générer des fichiers. Mais que se passe-t-il, si l&#x27;on appelle la règle clean et qui existe un fichier <code>clean</code> dans notre dossier.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make: &#x27;clean&#x27; is up to date.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour éviter ce genre de problème, il faut spécifier dans notre makefile que notre règle n&#x27;a pas pour but de générer un fichier. Pour cela, nous utilisons le mot clé <code>phony</code>.</p>
<p>Il suffit d&#x27;écrire.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.PHONY: my_rule1 my_rule12 # ... </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-range-le-repo">On range le repo<a href="#on-range-le-repo" class="hash-link" aria-label="Lien direct vers On range le repo" title="Lien direct vers On range le repo">​</a></h3>
<p>Maintenant, que nous avons réussi à faire un makefile propre, nous allons pouvoir faire évoluer notre projet en mettant nos fichiers dans un dossier <code>src</code>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── foo.c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── foo.h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── main.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour cela, il nous suffit de rechercher la liste de nos .c dans le dossier src/ puis de les transformer en .o. On peut modifier le code que nous avons fait ci-dessus.</p>
<div class="language-makefile= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile= codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRCDIR = src</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC = $(wildcard $(SRCDIR)/*.c)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBJ = $(SRC:$(SRCDIR)/%.c=$(SRCDIR)/%.o)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># qui est équivalent à</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># OBJ = src/main.o \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#       src/main.o</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="where-gdb-">Where GDB ?<a href="#where-gdb-" class="hash-link" aria-label="Lien direct vers Where GDB ?" title="Lien direct vers Where GDB ?">​</a></h3>
<p>Il peut être utile d&#x27;avoir un règle debug, afin de ne pas avoir à mettre un <code>-g</code> dans nos CFLAGS par défaut.</p>
<p>Pour cela, il suffit de :</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">debug: CFLAGS += -g</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">debug: all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On remarque que la règle debug n&#x27;a pas de corps. Elle se contente d&#x27;ajouter un flag et d&#x27;appeler notre règle <code>all</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tester-cest-tricher">Tester, c&#x27;est tricher<a href="#tester-cest-tricher" class="hash-link" aria-label="Lien direct vers Tester, c&#x27;est tricher" title="Lien direct vers Tester, c&#x27;est tricher">​</a></h3>
<p>Pour cet article, nous allons voir comment faire un Makefile pour une test suite criterion.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── tests/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── foo_test.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour pouvoir lancer, nos tests, il va falloir que l&#x27;on trouve les fichiers source du dossier <code>tests</code>, puis linker tous nos fichiers en excluant le fichier main.o.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">TEST_DIR = tests</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC_TEST = $(wildcard $(TEST_DIR)/*.c)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBJ_TEST = $(SRC:$(TEST_DIR)/%.c=$(TEST_DIR)/%.o)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ... </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">check: $(filter-out $(SRC_DIR)/main.o, $(OBJ)) $(OBJ_TEST)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(CC) $^ -o $(TARGET) $(LDFLAGS)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On remarque que le fichier main.o est exclus en utilisant la fonction <code>filter-out</code>. On voit aussi l&#x27;appel d&#x27;une variable pour le moment inconnu. Il en existe un grand nombre.</p>
<ul>
<li>
<p><code>$^</code>  : La liste des dépendances de la règle</p>
</li>
<li>
<p><code>$&lt;</code> : Le nom de la première dépendance</p>
</li>
<li>
<p><code>$@</code> : Le nom de la règle</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-teste-les-tests">On teste les tests<a href="#on-teste-les-tests" class="hash-link" aria-label="Lien direct vers On teste les tests" title="Lien direct vers On teste les tests">​</a></h3>
<p>Si l&#x27;on parle de test, nous devons forcément parler de coverage. Pour cela rien de plus simple, nous ajoutons les flags a nos variables puis exécutons <code>GCOVR</code></p>
<div class="language-makefile= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile= codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">coverage: CFLAGS += -fPIC --coverage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">coverage: LDFLAGS += -lgcov -lcriterion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">coverage: check</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gcovr --print-summary</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="like-a-pro">Like a pro<a href="#like-a-pro" class="hash-link" aria-label="Lien direct vers Like a pro" title="Lien direct vers Like a pro">​</a></h3>
<p>La création d&#x27;un dossier build est la cerise sur le gâteau. Elle permet au développeur de faire <code>rm -rf build/</code> pour faire un clean.</p>
<p>Pour cela, nous allons devoir modifier notre variable <code>OBJ</code> et nous allons devoir créer un règle pour la compilation des .o. Nous ne pouvons plus utiliser les règles implicite.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">BUILD_DIR = build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBJ = $(SRC:$(SRC_DIR)/%.c=$(BUILD_DIR)/%.o)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Compilation des fichiers source</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c | $(BUILD_DIR)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(CC) $(CFLAGS) -c $&lt; -o $@</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Creer le repertoire de build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(BUILD_DIR):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir -p $(BUILD_DIR)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alors on remarque que cette fois-ci, nous n&#x27;avons pas défini une règle, mais avec une variable. Nous avons même utilisé une sorte de regex pour la définir.</p>
<p>Nous avons aussi dû mettre un prérequis en plus, la règle $(build_dir). Le fait de mettre un <code>|</code> signifie qu&#x27;il doit d&#x27;abord vérifier qu&#x27;il est nécessaire de faire cette règle.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonus">Bonus<a href="#bonus" class="hash-link" aria-label="Lien direct vers Bonus" title="Lien direct vers Bonus">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bibliothèque-statique">Bibliothèque statique<a href="#bibliothèque-statique" class="hash-link" aria-label="Lien direct vers Bibliothèque statique" title="Lien direct vers Bibliothèque statique">​</a></h3>
<p>Pour créer une bibliothèque statique à partir des fichiers source, vous pouvez ajouter des règles au Makefile :</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">LIB_TARGET = libmylib.a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LIB_OBJS = $(filter-out $(BUILD_DIR)/main.o, $(OBJS))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(LIB_TARGET): $(LIB_OBJS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ar rcs $@ $^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Une fois, la librairie crée, vous pourrez simplement la link avec votre binaire.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makefile-récursif">Makefile récursif<a href="#makefile-récursif" class="hash-link" aria-label="Lien direct vers Makefile récursif" title="Lien direct vers Makefile récursif">​</a></h3>
<p>Si votre projet comporte des sous-modules, vous pouvez utiliser un Makefile récursif. Imaginons un projet avec la structure suivante.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── features1/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── features2/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── features3/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── features4/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── main.c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── Makefile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour cela, il y a deux approches possibles. La première serait de faire un seul makefile à la racine de notre projet et faire un find de nos fichiers .c. Nous verrons comment faire par la suite.</p>
<p>La deuxième, c&#x27;est de faire une structure récursif via le Makefile suivant.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># src/makefile </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SUBDIRS = $(wildcard */.)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.PHONY: subdirs $(SUBDIRS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">subdirs: $(SUBDIRS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(SUBDIRS):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $(MAKE) -C $@</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Avec ce fichier, nous allons pouvoir mettre un makefile dans chaque dossier features et lui et lui seul gérera la compilation de la features. Ils seront appelés par le <code>src/Makefile</code> via la règles subdirs.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export CFLAGS = -Wall -Werror -pedantic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>N&#x27;oubliez pas d&#x27;export vos variables dans votre Makefile afin qu´elle s&#x27;applique sur les Makefiles suivants.</p>
<p>Ce genre d&#x27;architecture nécessite, la plupart du temps, de la combiner avec la création de librairie statique.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="répertoires-infinis">Répertoires infinis<a href="#répertoires-infinis" class="hash-link" aria-label="Lien direct vers Répertoires infinis" title="Lien direct vers Répertoires infinis">​</a></h3>
<p>Nous avons vu comment utiliser la fonction <code>wildcard</code> mais comment faire pour recuperer l&#x27;intégralité de nos fichiers sources ?</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── foo/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── bar/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                └── foobar/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    └── barfoo/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        └── here.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La prise en charge des répertoires &quot;infinis&quot; peut se faire via des règles génériques ou bien par l&#x27;intermédiaire d&#x27;un sub-shell.</p>
<p>Par exemple :</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Attention, il faut que votre systeme possede la command find</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC = $(shell find $(SRC_DIR) -name &quot;*.c&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ou bien</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Je laisse les plus aventureux d&#x27;entre vous dechiffrer ce code</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rwildcard = $(foreach d, $(wildcard $(1:=/*)), $(call rwildcard,$d,$2) $(filter $(subst *,%,$2),$d))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC = $(rwildcard src,*.c)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ou encore</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SRC = $(wildcard src/*.c) \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $(wildcard src/*/*.c) \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # ... # </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $(wildcard src/*/*/*/*/*/*/*/*/*/*/.c)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># S&#x27;il vous plait, ne faites pas ca </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-make-conclusion">$ make conclusion<a href="#-make-conclusion" class="hash-link" aria-label="Lien direct vers $ make conclusion" title="Lien direct vers $ make conclusion">​</a></h2>
<p>En conclusion, l&#x27;utilisation judicieuse des Makefiles est cruciale pour la gestion efficace de projets. Il permet d&#x27;économiser énormément de temps lors du processus de développement. Ce n&#x27;est pas pour rien que la quasi-intégralité de l&#x27;industrie utilise cet outil.</p>
<p>Cette article n&#x27;étant bien entendu, pas exhaustif, je vous invite à vous renseigner par vous meme afin de découvrir les autres fonctionnalités de cet outil.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/make">make</a></li><li class="tag_QGVx"><a title="The most wonderful language" class="tag_zVej tagRegular_sFm0" href="/tags/c">C Language</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/c">c++</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/criterion">criterion</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/MrVyM/MrVyM.github.io/issues/blog/2024-03-14-Merveilleux-Monde-de-Make/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des articles du blog"><a class="pagination-nav__link pagination-nav__link--prev" href="/define-inc-a-inc-a+1"><div class="pagination-nav__sublabel">Article plus récent</div><div class="pagination-nav__label">#define INC(a) INC(a+1)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/todo"><div class="pagination-nav__sublabel">Article plus ancien</div><div class="pagination-nav__label">IDEA / TODO / SUBJECT</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#make-ca-sert-a-quoi-" class="table-of-contents__link toc-highlight">Make, ca sert a quoi ?</a></li><li><a href="#hello-world" class="table-of-contents__link toc-highlight">Hello World</a></li><li><a href="#plus-on-est-de-fou-plus-on-rit" class="table-of-contents__link toc-highlight">Plus on est de fou, plus on rit</a></li><li><a href="#clean" class="table-of-contents__link toc-highlight">Clean</a></li><li><a href="#on-range-le-repo" class="table-of-contents__link toc-highlight">On range le repo</a></li><li><a href="#where-gdb-" class="table-of-contents__link toc-highlight">Where GDB ?</a></li><li><a href="#tester-cest-tricher" class="table-of-contents__link toc-highlight">Tester, c&#39;est tricher</a></li><li><a href="#on-teste-les-tests" class="table-of-contents__link toc-highlight">On teste les tests</a></li><li><a href="#like-a-pro" class="table-of-contents__link toc-highlight">Like a pro</a></li><li><a href="#bonus" class="table-of-contents__link toc-highlight">Bonus</a><ul><li><a href="#bibliothèque-statique" class="table-of-contents__link toc-highlight">Bibliothèque statique</a></li><li><a href="#makefile-récursif" class="table-of-contents__link toc-highlight">Makefile récursif</a></li><li><a href="#répertoires-infinis" class="table-of-contents__link toc-highlight">Répertoires infinis</a></li></ul></li><li><a href="#-make-conclusion" class="table-of-contents__link toc-highlight">$ make conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MrVyM" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/MrVyM/MrVyM.github.io/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributing<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Archive</a></li></ul></div><div class="col footer__col"><div class="footer__title">Feed</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rss">RSS</a></li><li class="footer__item"><a class="footer__link-item" href="/atom">Atom</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 blog.mrvym.dev, Inc. Thanks to <href link="https://docusaurus.io/">Docusaurus.</href></div></div></div></footer></div>
</body>
</html>